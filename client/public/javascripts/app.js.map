{"version":3,"file":"public/javascripts/app.js","sources":["app/config.coffee","app/configform.coffee","app/router.coffee","app/initialize.coffee"],"names":[],"mappings":"AAAA;;AAAA,OAAO,QAAQ,YAAR,CAAP;;AAAA,EACA,GAAK,QAAQ,IAAR,CADL;;AAAA,OAGA,GAAU,IAAI,CAAC,OAAL,EAHV;;AAAA,SAIA,GAAY,IAAI,CAAC,IAAL,CAAU,OAAV,EAAmB,kBAAnB,CAJZ;;AAAA,UAKA,GAAa,IAAI,CAAC,IAAL,CAAU,SAAV,EAAqB,aAArB,CALb;;AAAA,MAMA,GAAS,QAAQ,UAAR,CANT;;AAAA,MAQA,GAAS,EART;;AAAA,IASA,GAAO,MAAM,CAAC,IAAP,CAAY,MAAM,CAAC,OAAnB,CATP;;AAUA,IAAoC,IAAI,CAAC,MAAL,GAAc,CAAlD;AAAA,WAAS,MAAM,CAAC,OAAQ,KAAK,GAAL,CAAxB;CAVA;;AAAA,aAYA,GACI;AAAA,kBAAgB,SAAC,YAAD;AACZ,WAAO,CAAC,GAAR,CAAY,YAAZ;AAAA,IACA,MAAM,CAAC,OAAQ,aAAY,CAAC,UAAb,CAAf,GAA0C,YAD1C;AAAA,IAEA,OAAO,CAAC,GAAR,CAAY,UAAZ,CAFA;AAAA,IAGA,EAAE,CAAC,aAAH,CAAiB,UAAjB,EAA6B,IAAI,CAAC,SAAL,CAAe,MAAf,EAAuB,IAAvB,EAA6B,CAA7B,CAA7B,CAHA;WAIA,OAAO,CAAC,GAAR,CAAY,yCAAZ,EALY;EAAA,CAAhB;CAbJ;CCAA;;AAAA,aAAa,KAAK,CAAC,WAAN,CACT;AAAA,UAAQ;WACN,IAAI;AAAA,iBAAW,WAAX;KAAJ,EACI,GAAG,EAAH,EAAO,0BAAP,CADJ,EAEI,IAAI;AAAA,iBAAW,kBAAX;KAAJ,EACI,MAAM;AAAA,iBAAW,sBAAX;KAAN,EAAyC,EAAE,kBAAF,CAAzC,CADJ,EAEI,MACI;AAAA,iBAAW,kBAAX;AAAA,MACA,KAAK,YADL;AAAA,MAEA,cAAc,IAAC,MAAK,CAAC,UAFrB;KADJ,CAFJ,CAFJ,EAQI,IAAI;AAAA,iBAAW,UAAX;KAAJ,EACI,OACI;AAAA,iBAAW,wBAAX;AAAA,MACA,KAAK,YADL;AAAA,MAEA,SAAS,IAAC,oBAFV;KADJ,EAIE,cAJF,CADJ,CARJ,EADM;EAAA,CAAR;AAAA,EAgBA,qBAAqB;AACjB,QAAC,MAAK,CAAC,UAAP,GAAoB,IAAC,KAAI,CAAC,UAAU,CAAC,UAAjB,EAA6B,CAAC,KAAlD;AAAA,IAEA,aAAa,CAAC,cAAd,CAA6B,IAAC,MAA9B,CAFA;WAGA,MAAM,cAAN,EAJiB;EAAA,CAhBrB;CADS,CAAb;CCAA;;AAAA,SAAS,KAAK,CAAC,WAAN,CACL;AAAA,UAAQ;WACN,IAAI;AAAA,iBAAW,QAAX;KAAJ,EAAyB,uBAAzB,EADM;EAAA,CAAR;CADK,CAAT;CCAA;;AAAA,OAAkC,KAAK,CAAC,GAAxC,EAAC,cAAD,EAAM,kBAAN,EAAa,kBAAb,EAAoB,YAApB,EAAwB,oBAAxB;;AAAA,MAGM,CAAC,MAAP,GAAgB;AAEZ;AAAA,QAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,QAAQ,CAAC,QAAhB,KAA4B,WAA7C;AAAA,EAGA,SAAS,MAAM,CAAC,MAAP,IAAiB,MAAM,CAAC,SAAS,CAAC,QAAlC,IAA8C,IAHvD;AAAA,EAIA,UAAU,EAJV;AAAA,EAKA,WAAe,cALf;AAAA,EAMA,QAAQ,CAAC,MAAT,CAAgB,OAAhB,CANA;AAAA,EAOA,MAAM,CAAC,CAAP,GAAW,QAAQ,CAAC,CAAC,CAAC,IAAX,CAAgB,QAAhB,CAPX;AAAA,EASA,kBAAkB,WAAW,MAAX,CATlB;SAUA,KAAK,CAAC,eAAN,CAAsB,eAAtB,EAAuC,QAAQ,CAAC,IAAhD,EAZY;AAAA,CAHhB","sourcesContent":["path = require 'path-extra'\nfs = require 'fs'\n\nhomedir = path.homedir()\nconfigDir = path.join homedir, '.cozy-data-proxy'\nconfigPath = path.join configDir, 'config.json'\nconfig = require configPath\n\ndevice = {}\nkeys = Object.keys config.devices\ndevice = config.devices[keys[0]] if keys.length > 0\n\nconfigHelpers =\n    saveConfigSync: (deviceConfig) ->\n        console.log deviceConfig\n        config.devices[deviceConfig.deviceName] = deviceConfig\n        console.log configPath\n        fs.writeFileSync(configPath, JSON.stringify config, null, 2)\n        console.log 'Configuration file successfully updated'\n","ConfigForm = React.createClass\n    render: ->\n      div className: 'container',\n          h1 {}, 'Cozy Files Configuration'\n          div className: 'line device-name',\n              label className: 'mod left w25 mr2 ml2', t 'your device name'\n              input\n                  className: 'mod left w75 mt1'\n                  ref: 'deviceName'\n                  defaultValue: @props.deviceName\n          div className: 'line mt2',\n              button\n                  className: 'mod right btn btn-cozy'\n                  ref: 'saveButton'\n                  onClick: @onSaveButtonClicked\n              , 'Save changes'\n\n    onSaveButtonClicked: ->\n        @props.deviceName = @refs.deviceName.getDOMNode().value\n\n        configHelpers.saveConfigSync @props\n        alert 'Config saved'\n","router = React.createClass\n    render: ->\n      div className: \"router\", \"Hello, I am a router.\"\n","{div, label, input, h1, button} = React.DOM\n\n# Waits for the DOM to be ready\nwindow.onload = ->\n\n    window.__DEV__ = window.location.hostname is 'localhost'\n\n    # use Cozy instance locale or navigator language or \"en\" by default\n    locale = window.locale or window.navigator.language or \"en\"\n    locales = {}\n    polyglot = new Polyglot()\n    polyglot.extend locales\n    window.t = polyglot.t.bind polyglot\n\n    configComponent = ConfigForm device\n    React.renderComponent configComponent, document.body\n"]}